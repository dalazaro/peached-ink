<% user = current_user %>
<% is_owner = user ? user.id == @collection.user_id : false %>

<div class="">

  <%= link_to "Back to Collections", collections_path, class: "back-to" %>

  <h2><%= @collection.name %></h2>
  <h3 class="text-muted"><%= (@collection.description).gsub("\r\n", "<br>").html_safe %></h3>

  <% if is_owner %>
    <div class="row">
      <div class="col">
        <%= button_to "Edit", edit_collection_path(@collection), method: :get, class: "btn btn-warning" %>
      </div>
      <div class="col">
        <%= button_to "Delete", "/collections/#{@collection.id}", method: :delete, class: "btn btn-danger" %>
      </div>
    </div>
  <% end %>

  <!-- Carousel Slideshow -->
  <div class="image">
    <div id="carouselControls" class="carousel slide img-thumbnail" data-ride="carousel">
      <div class="carousel-inner">
        <% if @collection.illustration01? %>
          <div class="carousel-item active">
            <%= image_tag(@collection.illustration01.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration02? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration02.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration03? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration03.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration04? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration04.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration05? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration05.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration06? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration06.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration07? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration07.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration08? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration08.url, class: "d-block w-100") %>
          </div>
        <% end %>
        <% if @collection.illustration09? %>
          <div class="carousel-item">
            <%= image_tag(@collection.illustration09.url, class: "d-block w-100") %>
          </div>
        <% end %>
      </div>
      <a class="carousel-control-prev" href="#carouselControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <!-- Thumbnails -->
  <div class="container">

    <div class="row">
      <% if @collection.illustration01? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration01.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>

      <% if @collection.illustration02? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration02.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>

      <% if @collection.illustration03? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration03.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>
    <!-- </div> -->

    <!-- <div class="row"> -->
      <% if @collection.illustration04? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration04.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>

      <% if @collection.illustration05? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration05.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>

      <% if @collection.illustration06? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration06.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>
    <!-- </div> -->

    <!-- <div class="row"> -->
      <% if @collection.illustration07? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration07.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>

      <% if @collection.illustration08? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration08.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>

      <% if @collection.illustration09? %>
        <div class="col-6 col-md-3 image">
          <%= image_tag(@collection.illustration09.url, class: "img-fluid img-thumbnail") %>
        </div>
      <% end %>
    <!-- </div> -->

  </div>

</div>
